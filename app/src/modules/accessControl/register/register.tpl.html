<div class="page-header">
    <h1>{{'Base' | translate }}</h1>
</div>

<div ng-show="vm.error" class="alert alert-danger row">
    <span>{{ vm.error.message }}</span>
</div>

<div cg-busy="vm.myPromise"></div>

<form name="registerForm" ng-submit="vm.register()" style="margin-top:30px;" novalidate>
    <h3>{{'Register' | translate }}</h3>

    <div class="form-group" ng-class="{ 'has-error': registerForm.userName.$touched && registerForm.userName.$invalid }">
        <input name="userName" type="text" class="form-control" placeholder="{{'Username' | translate }}" ng-model="vm.user.username" required></input>
        <div ng-messages="registerForm.userName.$error" ng-show="registerForm.userName.$touched">
            <p class="has-error" ng-message="required">{{"User name is required" | translate}}.</p>
        </div>
    </div>

    <div class="form-group" ng-class="{ 'has-error': registerForm.email.$touched && registerForm.email.$invalid }">
        <input name="email "type="email" class="form-control" placeholder="{{'e-mail' | translate }}" ng-model="vm.user.email" required></input>
        <div ng-messages="registerForm.email.$error" ng-show="registerForm.email.$touched">
            <p class="has-error" ng-message="required">{{"e-mail is required" | translate}}.</p>
            <p class="has-error" ng-message="email">{{"e-mail is invalid" | translate}}.</p>
        </div>
    </div>

    <div class="form-group" ng-class="{ 'has-error': registerForm.password.$touched && registerForm.password.$invalid }">
        <input name="password" type="password" class="form-control" placeholder="{{'Password' | translate }}" ng-model="vm.user.password" required></input>
        <div ng-messages="registerForm.password.$error" ng-show="registerForm.password.$touched">
            <p class="has-error" ng-message="required">{{"Password is required" | translate}}.</p>
        </div>
    </div>
    
    <button type="submit" class="btn btn-primary" ng-disabled="registerForm.$invalid">{{'Register' | translate }}</button>

</form>
